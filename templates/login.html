{% extends 'base.html' %}
{% block title %}
    登录
{% endblock %}
{% block content %}
    {% if request.user.is_authenticated %}
        <p>您已经登录！</p>
    {% else %}
        <p>用户登陆</p>
        {% if loginform.errors %}
            <P>{{ loginform.errors }}</P>
        {% endif %}
        {{ message }}
         <form action="{% url 'user:login' %}" method="post">
            {% csrf_token %}
            <p><label for="id_username">用户名: </label> <input type="text" name="username" required id="id_username" /></p>
            <p><label for="id_password">密码: </label> <input type="password" name="password" minlength="6" required id="id_password" /></p>
            <button name="submit">登录</button>
        </form>
    {% endif %}
{% endblock %}